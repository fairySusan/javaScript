<!DOCTYPE html>
<html>
<head>
	<title>深拷贝对象的方法</title>
</head>
<body>

</body>
<script type="text/javascript">
	/*对象浅拷贝*/
	var a = {
		name:'susan',
		age:'21',
		act:function(){
			console.log("跳舞");
		}
	}
	var b = a;
	b.sex = "女";
	console.log("a:",a);//{name: "susan", age: "21", act: ƒ, sex: "女"}
	console.log("b:",b);//{name: "susan", age: "21", act: ƒ, sex: "女"}
	/*1.for循环实现对象的深拷贝
		适合没有数组的属性的对象,如果属性为数组那么进行的是浅拷贝
	*/
	var c = {
		name:'susan',
		age:'21',
		score:[90,80,78],
		act:function(){
			console.log("跳舞");
		}
	}
	var d={};
	for(var i in c){
		d[i] = c[i];
	}
	d.high = '165';
	d.score.push(50);
	console.log("c:",c);//scroe:[90,80,78,50]
	console.log("d:",d);//scroe:[90,80,78,50]
	/*2.深拷贝数组和对象终极方法*/
	var e = {
		name:'susan',
		age:'21',
		score:[90,80,78],
		family:{
			mom:'alin',
			dad:'tony'
		},
		act:function(){
			console.log("跳舞");
		}
	}
	function deepClone(obj){
		var newObj = obj.constructor === Array ? [] : {};
		if (typeof obj === 'object') {
			for(var i in obj){
				if (typeof obj[i] === 'object') {
					newObj[i]=deepClone(obj[i]);
				}else{
					newObj[i] = obj[i];
				}
			}
		}else{
			return
		}
		return newObj;
	}
	var f = deepClone(e);
	f.sex="boy";
	f.score.push(10);
	f.family.sister='joy';
	console.log("e:",e);//scroe:[90,80,78,50]
	console.log("f:",f);
</script>
</html>