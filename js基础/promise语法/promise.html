<!DOCTYPE html>
<html>
<head>
	<title>promise对象学习</title>
	<meta charset="utf-8">
</head>
<body>
<h2>Promise是一个构造函数，用来生成实例</h2>
<h3>它接受一个函数作为参数，这个函数其实就是then方法，函数的参数分别是resolve和reject，它们也是两个函数，分别对应.then的两个回调函数</h3>
<h2>Promise.prototype.then</h2>
<h3>.then(f1,f2)方法可以接受两个参数，第一个参数是状态转为成功时调用，第二个方法是状态转为失败时调用，第二个参数是可选的不一定提供</h3>
<h2>Promise.prototype.catch</h2>
<h3>.catch(f),是发生错误时，回调f函数，写法是.then().catch()</h3>
<h3 style="color: red">then()的回调函数是异步执行的，也就是说这个回调函数是插入到了事件队列的末尾。</h3>
<h3 style="color: red">异步的目的是为来解决那些返回结果时间很长，导致cpu空闲的问题</h3>
<h3 style="color: red">放入异步队列里的是回调函数，比如setTimeout的回调函数、axios的回调函数，是回调函数延后执行</h3>
</body>
<script src="./main.js"></script>
<script type="text/javascript">
	/*
	一个函数体里调用一个需要很长时间的函数，并且这个函数跟后面执行的代码并无关系， 那么需要将此函数做成异步执行
	*/
	function fn1() {
		console.log('xascdsa');
	}

	function fn2() {
		const p = new Promise((resolve, reject) => {
			resolve();
		});
		p.then(() => { fn1(); });
		console.log('我要先执行');
	}
	fn2();
</script>
</html>